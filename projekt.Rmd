---
title: "Poročilo pri predmetu Analiza podatkov s programom R"
author: "Jan Lampič"
output:
  html_document: default
  pdf_document:
    includes:
      in_header: lib/styles.sty
    latex_engine: xelatex
runtime: shiny
---

```{r setup, echo=FALSE, results='hide', message=FALSE}
# Če želimo nastaviti pisave v PDF-ju, odkomentiramo
# in sledimo navodilom v programu.
#source("fontconfig.r", encoding = "UTF-8")

# Uvoz vseh potrebnih knjižnic
source("lib/libraries.r", encoding = "UTF-8")
```

# Izbira teme

Za temo anlize sem si izbral svetovni avtomobilski trg. Cilj projekta je primerjava in razvrstitev držav glede na proizvodnjo, prodajo in uporabo določenega tipa avtomobilov, poiskati povezave med danimi količinami z razvitostjo držav (BDP) ter gospodarski vpliv avtomobilskega trga.
Primerjal pa bom tudi posamezna podjetja glede na njihovo proizvodnjo.

***

# Obdelava, uvoz in čiščenje podatkov

```{r uvoz, echo=FALSE, message=FALSE}
source("uvoz/Ureditev_podatkov_prodaja.R", encoding = "UTF-8")
source("uvoz/Ureditev_podatkov_proizvodnja.R", encoding = "UTF-8")
source("uvoz/Ureditev_podatkov_uporaba.R", encoding = "UTF-8")
source("uvoz/Ureditev_podatkov_proizvodnja_po_proizvajalcih.R", encoding = "UTF-8")

```

1.TABELA - prodaja avtomobilov po državah

S spletnega naslova [OICA/SALES](http://www.oica.net/category/sales-statistics/) sem uvozil tabeli o prodanih osebnih avtomobilih ter komercialnih vozilih po državah v letih od 2005 do 2016. 
Podatki so bili v obliki EXCEL (.xlsx). 
Obe tabeli sem uredil v normalizirano obliko ter ju združil.

Stolpci v tabeli:
1. Country - država (imenska spremenljivka)
2. Type - tip vozila (imenska spremenljivka)
    + PC - passenger car (osebni avtomobil) 
    + CV - commercial vehicle (komercialno vozilo)
4. Number - število prodanih avtomobilov (številska spremenljivka)

```
head(prodaja)
```

2.TABELA - uporaba avtomobilov po državah

Iz spletnega mesta [OICA/USE](http://www.oica.net/category/vehicles-in-use/) sem uvozil tabeli o uporabi osebnih ter komercialnih vozil po državah v letih od 2005 do 2014.
Podatki so bili v obliki EXCEL (.xlsx). Stolpci v tabeli so enaki kot pri zgornji.

```
kable(head(uporaba))
```

3.TABELA - proizvodnja avtomobilov po državah

Podatke o proizvodnji avtomobilov po državah sem prav tako prenesel iz [OICA/PRODUCTION](http://www.oica.net/category/production-statistics/).Podatki so bili v večji meri v obliki PDF zato sem jih za nadalnje delo pretvoril v EXCEL. Podatke sem najprej uredil v štiri tabele (4 kategorije vozil), kjer vsaka vsebuje podatke o proizvodnji od leta 2004 do 2015. Te sem nato združil v skupno tabelo, pri kateri sem z regularnimi izrazi popravil še  napake v stolpcu Country. 

Stolpci v tabeli:
1. Country - država (imenska spremenljivka)
2. Type - tip vozila (imenska spremenljivka)
    + PC - passenger car (osebni avtomobil) 
    + CV - commercial vehicle (komercialno vozilo)
    + HT - heavy trucks (tovornjaki)
    + BC - buses and coaches (avtobusi)
3. Year - leto (števislka spremenljivka)
4. Number - število prodanih avtomobilov (številska spremenljivka)

```
kable(head(proizvodnja))
```

4.TABELA - proizvodnja avtomobilov posameznih proizvajalcev

Podatke o proizvodnji avtomobilov glede na proizvajalca pa sem uvozil iz [WIKI/PRODUCTION](https://en.wikipedia.org/wiki/List_of_manufacturers_by_motor_vehicle_production#2015). Te podatki so bili v obliki HTML. Tabele sem uvozil s pomočjo knjižnice `rvest`, jih pretvoril v standardno obliko ter jih uredil z regularnimi izrazi.

Stolpci v tabeli:
1. Group - podjetje oz. proizvajalec (imenska spremenljivka)
2. Country - država (imenska spremnljivka)
3. Year - leto (številska spremenljivka)
4. Number - število proizvedenih avtomobilov (številska spremenljivka)

```
kable(head(proizvajalci))
```


# Analiza in vizualizacija podatkov



# Napredna analiza podatkov



